<div class="profile-container">
    <!-- Left Side Tabs -->
    <div class="tabs">
        <div class="tab" [class.active]="activeTab === 'Profile'" (click)="setActiveTab('Profile')">Profile</div>
        <div class="tab" [class.active]="activeTab === 'Your Tools'" (click)="setActiveTab('Your Tools')">Your Tools
        </div>
        <div class="tab" [class.active]="activeTab === 'Reviews'" (click)="setActiveTab('Reviews')">Reviews</div>
        <div class="tab" [class.active]="activeTab === 'Access'" (click)="setActiveTab('Access')">Access</div>
    </div>

    <!-- Right Side Content -->
    <div class="tab-content">
        <!-- Profile Tab -->
        <div *ngIf="activeTab === 'Profile'">
            <div class="profile-header">
                <img src="../../../assets/images/12.png" alt="Profile Image" class="profile-image">
            </div>
            <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" formControlName="name">
                </div>
                <div class="form-group">
                    <label>LinkedIn</label>
                    <input type="text" formControlName="linkedin">
                </div>
                <div class="form-group">
                    <label>Facebook</label>
                    <input type="text" formControlName="facebook">
                </div>
                <div class="form-group">
                    <label>Designation</label>
                    <input type="text" formControlName="designation">
                </div>
                <div class="form-group">
                    <label>About Me</label>
                    <textarea formControlName="about" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" formControlName="email">
                </div>
                <button type="submit" [disabled]="profileForm.invalid">Submit</button>
            </form>
        </div>

        <!-- Placeholder Tabs -->
        <div *ngIf="activeTab === 'Your Tools'" class="tools-tab">
            <div class="cards-container flex-wrap" #toolsContainer>

                <!-- Add Product Button -->
                <div class="product-card add-product" (click)="onAddProduct()">
                    <div class="product-icon">
                        <img src="../../../assets/images/addproduct.svg" alt="Add Product" />
                    </div>
                    <h3 class="product-name">Add Product</h3>
                </div>

                <!-- Product Cards -->
                <app-smaller-product-card *ngFor="let tool of toolsArray" [product]="tool"></app-smaller-product-card>

            </div>

            <span class="loadmorebtn">Load more</span>
        </div>





        <div *ngIf="activeTab === 'Reviews'" class="reviews-tab">
            <h2>Reviews</h2>

            <div *ngIf="reviewsArray.length === 0" class="no-reviews">
                <p>No reviews available.</p>
            </div>

            <div class="review-card" *ngFor="let review of reviewsArray">

                <!-- User Profile Image -->
                <img [src]="review.profileImg" alt="{{review.username}}" class="review-profile-img">

                <!-- Review Content -->
                <div class="review-content">
                    <div class="review-header">
                        <span class="review-username">{{ review.username }}</span>
                        <span class="review-date">{{ review.date | date:'mediumDate' }}</span>
                    </div>
                    <p class="review-comment">{{ review.comment }}</p>
                </div>

                <!-- Three-dot Menu -->
                <img src="../../../assets/images/dotmenu.svg" alt="Menu" class="dotmenu"
                    (click)="toggleReviewDropdown(review, $event)">

                <div class="dotmenudropdown" *ngIf="review.showDropdown">
                    <ul>
                        <li (click)="onDeleteReview(review)">Delete</li>
                    </ul>
                </div>

            </div>
            <span class="loadmorebtn">Load more</span>

        </div>



        <div *ngIf="activeTab === 'Access'" class="access-tab">
            <h2 class="section-title">Access</h2>

            <!-- Change Password Section -->
            <form [formGroup]="passwordForm" (ngSubmit)="onPasswordSubmit()" class="access-form">
                <h3 class="sub-title">Change Password</h3>
                <div class="form-group">
                    <label>Old Password</label>
                    <input type="password" formControlName="oldPassword" required>
                </div>
                <div class="form-group">
                    <label>New Password</label>
                    <input type="password" formControlName="newPassword" required>
                </div>
                <div class="form-group">
                    <label>Re-enter New Password</label>
                    <input type="password" formControlName="confirmPassword" required>
                </div>
                <button type="submit" [disabled]="passwordForm.invalid">Update Password</button>
            </form>

            <!-- Danger Zone Section -->


            <!-- Delete Confirmation Modal -->
            <div class="danger-zone">
                <h3 class="sub-title">Danger Zone</h3>
                <p class="danger-text">Deleting your account is permanent and cannot be undone.</p>
                <button class="delete-btn" (click)="showDeleteConfirm = true">Delete Account</button>
            </div>

            <!-- Delete Confirmation Modal -->
            <div class="modal-backdrop" *ngIf="showDeleteConfirm" (click)="showDeleteConfirm = false">

                <div class="modal" *ngIf="showDeleteConfirm">
                    <div class="modal-content">
                        <h3 class="modal-title">Are you sure?</h3>
                        <p class="modal-warning">
                            Deleting your account will permanently remove your account and all associated data.
                        </p>
                        <ul class="modal-bullets">
                            <li>All published products will be permanently deleted.</li>
                            <li>All reviews will be permanently removed.</li>
                            <li>You will lose access to your account and all related data.</li>
                        </ul>
                        <div class="modal-actions">
                            <button class="cancel-btn" (click)="showDeleteConfirm = false">Cancel</button>
                            <button class="confirm-btn" (click)="onDeleteAccount()">Yes, Delete</button>
                        </div>
                    </div>
                </div>

            </div>

        </div>






    </div>
</div>